#!/usr/bin/env bash


# ################  Standard environment  ################


# set standard user directories

export XDG_CONFIG_HOME="$HOME/.config"
export XDG_CACHE_HOME="$HOME/.cache"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_STATE_HOME="$HOME/.local/state"


# add user's bin directory to path if applicable

if [ -d "$HOME/bin" ] ; then
    PATH="$HOME/bin:$PATH"
fi

if [ -d "$HOME/.local/bin" ] ; then
    PATH="$HOME/.local/bin:$PATH"
fi

PATH="$PATH:$HOME/.pack/bin:./"

export PATH


export EDITOR="/usr/bin/micro"  # war crime, terrorism goes brrr
export BROWSER="/usr/bin/firefox"
export XDG_UTILS_BROWSER="/usr/bin/firefox"
export XDG_UTILS_TERMINAL="/usr/bin/kitty"
export TERMINAL_EMULATOR="/usr/bin/kitty"
#export TERM="/usr/bin/kitty"
export XDG_UTILS_FILEMANAGER="/usr/bin/nautilus --new-window"
export FILEMANAGER="/usr/bin/nautilus --new-window"


# ################  Get the fuck out of my home directory section  ################


export RUSTUP_HOME="$XDG_DATA_HOME/rustup"
export CARGO_HOME="$XDG_CACHE_HOME/cargo"
export PARALLEL_HOME="$XDG_DATA_HOME/parallel"
export PYTHON_HISTORY="$XDG_STATE_HOME/python/history"
export ICEAUTHORITY="$XDG_CACHE_HOME/ICEauthority"
export GTK2_RC_FILES="$XDG_CONFIG_HOME/gtk-2.0/gtkrc"
export GHCUP_USE_XDG_DIRS="true"
export CUDA_CACHE_PATH="$XDG_CACHE_HOME/nv"
export HISTFILE="$XDG_STATE_HOME/bash/history"
export PYENV_ROOT="$XDG_DATA_HOME/pyenv"
export OPAMROOT="$XDG_DATA_HOME/opam"
export GRADLE_USER_HOME="$XDG_DATA_HOME/gradle"
export R_ENVIRON_USER="$XDG_CONFIG_HOME"
export R_HISTFILE="$XDG_STATE_HOME/R/history"
export PYTHON_HISTORY="$XDG_STATE_HOME/python/history"
export PSQL_HISTORY="$XDG_STATE_HOME/psql_history"
export _JAVA_OPTIONS="-Djava.util.prefs.userRoot=$XDG_CONFIG_HOME/java"
export ANDROID_USER_HOME="$XDG_DATA_HOME/android"


# ################  Random things  ################


export MICRO_TRUECOLOR="1"


# ################  Start desktop  ################


dbus-run-session "$@"
